<!-- <div class="cont-component">
  <div *ngIf="!loading" class="cont-principal">
    <div class="col-lg-6">
      <div class="card text-white bg-secondary">
        <div class="card-header text-center">{{ operacion }} Solicitud</div>
        <div class="card-body">
          <form (ngSubmit)="addSolicitud()">
            <div *ngIf="id" class="form-group">
              <label for="solicitudIdInput">Número de Solicitud:</label>
              <label id="solicitudIdInput" class="form-control">{{ formulario.solicitudId }}</label>
            </div>
  
            <div class="form-group">
              <label for="terceroInput">Tercero:</label>
              <select [(ngModel)]="selectedTerceroId" name="tercero" class="form-control" required #terceroInput="ngModel" id="terceroInput">
                <option *ngFor="let tercero of terceros" [value]="tercero._id">{{ tercero.nombreTercero }}</option>
              </select>
              <div *ngIf="terceroInput.invalid && terceroInput.touched" class="text-danger">El campo tercero es requerido</div>
              <button (click)="openModal()" type="button" class="btn btn-info btn-sm mt-2">Crear nuevo tercero</button>
            </div>
  
            <div class="form-group">
              <label for="fechaInput">Fecha:</label>
              <input [(ngModel)]="formulario.fecha" name="fecha" type="date" class="form-control" id="fechaInput" required #fechaInput="ngModel">
              <div *ngIf="fechaInput.touched && fechaInput.invalid" class="text-danger">El campo fecha es requerido</div>
              <div *ngIf="formulario.fecha" class="mt-2">
                <label>Fecha seleccionada:</label>
                <input [value]="formulario.fecha | date:'dd/MM/yyyy'" class="form-control" readonly>
              </div>
            </div>
  
            <div class="form-group">
              <label for="categoriaInput">Categoría:</label>
              <select [(ngModel)]="selectedCategoriaId" name="categoria" class="form-control" required #categoriaInput="ngModel" id="categoriaInput">
                <option *ngFor="let categoria of categorias" [value]="categoria._id">{{ categoria.nombre }}</option>
              </select>
              <div *ngIf="categoriaInput.touched && categoriaInput.invalid" class="text-danger">El campo categoría es requerido</div>
            </div>
  
            <div class="form-group">
              <label for="detalleInput">Detalle:</label>
              <input [(ngModel)]="formulario.detalle" name="detalle" type="text" class="form-control" id="detalleInput" required #detalleInput="ngModel">
              <div *ngIf="detalleInput.touched && detalleInput.invalid" class="text-danger">El campo detalle es requerido</div>
            </div>
  
            <div class="form-group">
              <label for="valorInput">Valor:</label>
              <input [(ngModel)]="formulario.valor" name="valor" type="number" class="form-control" id="valorInput" required #valorInput="ngModel">
              <div *ngIf="valorInput.touched && valorInput.invalid" class="text-danger">El campo valor es requerido</div>
            </div>
  
            <div class="form-group">
              <label class="facturaInput">Factura:</label>
              <input type="file" (change)="onFileSelected($event)" name="factura" class="form-control" id="facturaInput" [(ngModel)]="formulario.facturaUrl">
              <button type="button" class="btn btn-sm btn-danger mt-2" (click)="removeFactura()">Eliminar Factura</button>
            </div>
  
            <div *ngIf="formulario.facturaUrl" class="mt-3">
              <a href="javascript:void(0)" (click)="openFacturaModal()" class="btn btn-primary">Ver factura</a>
            </div>
  
            <div class="row mt-3">
              <div class="col-lg-6">
                <a routerLink="/obtenerTodasLasSolicitudes" class="btn btn-danger btn-block">Volver</a>
              </div>
              <div class="col-lg-6">
                <button type="submit" class="btn btn-success btn-block">Aceptar</button>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
  
</div>
 -->
<div class="container d-flex justify-content-center needs-validation mt-5 mb-2" novalidate>
    <div class="card" style="width: 40rem;">
        <div class="card-header text-center">{{ operacion }} Solicitud <label *ngIf="id" class="form-label" for="solicitudIdInput">
      #:</label>
            <label *ngIf="id" id="solicitudIdInput">{{ formulario.solicitudId }}</label>
        </div>
        <div class="card-body">
            <form class="row g-3 p-4" (ngSubmit)="addSolicitud()">
                <div class="col-md-6">
                    <label class="form-label" for="fecha">Fecha de Solicitud</label>
                    <input [(ngModel)]="formulario.fecha" name="fecha" class="form-control" type="date" id="fecha" required #fecha="ngModel" />
                    <div class="valid-feedback">
                        Looks good!
                    </div>
                    <div class="invalid-feedback">
                        Debe seleccionar una fecha.
                    </div>
                    <!-- validacion  -->
                    <div *ngIf="fecha.touched && fecha.invalid" class="text-danger">
                        El campo fecha es requerido
                    </div>
                </div>

                <div class="col-md-6">
                    <label class="form-label" for="valor">Valor solicitado</label>
                    <input [(ngModel)]="formulario.valor" name="valor" class="form-control" type="number" id="valor" required #valor="ngModel" />
                    <div class="valid-feedback">
                        Looks good!
                    </div>
                    <div class="invalid-feedback">
                        Debe ingresar un valor numerico.
                    </div>
                    <!-- validacion -->
                    <div *ngIf="valor.touched && valor.invalid" class="text-danger">
                        El campo valor es requerido
                    </div>
                </div>
                <div class="col-md-12">
                    <label class="form-label" for="tercero">Seleccione el proveedor</label>
                    <select [(ngModel)]="selectedTerceroId" name="tercero" class="form-select" id="tercero" required #tercero="ngModel">
          <option selected>seleccione el proveedor</option>
          <option *ngFor="let tercero of terceros" [value]="tercero._id">{{ tercero.nombreTercero }}</option>
        </select>
                    <div class="valid-feedback">
                        Looks good!
                    </div>
                    <!-- <div class="invalid-feedback">
                      debe seleccionar un proveedor.
                  </div> -->
                    <!-- validacion -->
                    <div *ngIf="tercero.touched && tercero.invalid" class="text-danger">
                        El campo proveedor es requerido
                    </div>
                    <p class="card-text bg-light" style="transform: rotate(0);">
                        <a (click)="openModal()" type="button" class="btn btn-info btn-sm mt-2" class="stretched-link">crea un nuevo proveedor</a>
                    </p>
                </div>
                <div class="col-md-12">
                    <label class="form-label" for="categoria">Seleccione categoria de solicitud</label>
                    <select [(ngModel)]="selectedCategoriaId" name="categoria" class="form-select" id="categoria" required #categoria="ngModel">
          <option selected>Categoria de solicitud</option>
          <option *ngFor="let categoria of categorias" [value]="categoria._id">{{ categoria.nombre }}</option>
        </select>
                    <div class="valid-feedback">
                        Looks good!
                    </div>
                    <div class="invalid-feedback">
                        debe seleccionar una categoria.
                    </div>
                    <!-- validacion -->
                    <div *ngIf="categoria.touched && categoria.invalid" class="text-danger">
                        El campo categoria es requerido
                    </div>
                </div>
                <div class="col-md-12">
                    <label class="form-label" for="detalle">Ingresa el detalle de la solicitud</label>
                    <textarea [(ngModel)]="formulario.detalle" name="detalle" class="form-control" id="detalle" rows="2" style="resize: none;" required #detalle="ngModel"></textarea>
                    <div class="valid-feedback">
                        Looks good!
                    </div>
                    <div class="invalid-feedback">
                        Ingresa detalle de la solicitud.
                    </div>
                    <!-- validacion -->
                    <div *ngIf="detalle.touched && detalle.invalid" class="text-danger">
                        El campo detalle de solicitud es requerido
                    </div>
                </div>
                <div class="col-md-12">
                    <label class="form-label" for="factura">Adjunta factura soporte</label>
                    <input (change)="onFileSelected($event)" name="factura" class="form-control" type="file" id="factura" />
                    <p *ngIf="formulario.facturaUrl" class="card-text bg-light" style="transform: rotate(0);">
                        <a (click)="removeFactura()" type="button" class="btn btn-info btn-sm mt-2" class="stretched-link">Eliminar factura adjunta</a>
                    </p>
                </div>
                <div class="col-12 d-flex justify-content-center">
                    <button type="submit" class="btn btn-primary mx-auto">Guardar</button>
                    <button type="submit" class="btn btn-secondary mx-auto"><a style="text-decoration: none; color: white;" routerLink="/obtenerTodasLasSolicitudes" >Volver</a></button>
                </div>
            </form>
        </div>
    </div>
</div>