<br>
<div class="container d-flex justify-content-center needs-validation mb-2" style="margin-top: 80px; margin-bottom: 20px;" novalidate>

    <div class="card" style="width: 40rem;">

        <div class="card-header fs-5 text-center">{{ operacion }} Solicitud <label *ngIf="id" class="form-label" for="solicitudIdInput">
        #:</label>
            <label *ngIf="id" id="solicitudIdInput">{{ formulario.solicitudId }}</label>
        </div>
        <div class="card-body">
            <form class="row g-3 p-4" (ngSubmit)="addSolicitud()">
                <div class="col-md-6">
                    <label class="form-label" for="fecha">Fecha de Solicitud</label>
                    <input [(ngModel)]="formulario.fecha" name="fecha" class="form-control" type="date" id="fecha" required #fecha="ngModel" />
                    <div class="valid-feedback">
                        Looks good!
                    </div>
                    <div class="invalid-feedback">
                        Debe seleccionar una fecha.
                    </div>
                    <!-- validacion  -->
                    <div *ngIf="fecha.touched && fecha.invalid" class="text-danger">
                        El campo fecha es requerido
                    </div>
                </div>

                <div class="col-md-6">
                    <label class="form-label" for="valor">Valor solicitado</label>
                    <input [(ngModel)]="formulario.valor" name="valor" class="form-control" type="number" id="valor" required #valor="ngModel" />
                    <div class="valid-feedback">
                        Looks good!
                    </div>
                    <div class="invalid-feedback">
                        Debe ingresar un valor numerico.
                    </div>
                    <!-- validacion -->
                    <div *ngIf="valor.touched && valor.invalid" class="text-danger">
                        El campo valor es requerido
                    </div>
                </div>
                <div class="col-md-12">
                    <label class="form-label" for="tercero">Seleccione el proveedor</label>
                    <select [(ngModel)]="selectedTerceroId" name="tercero" class="form-select" id="tercero" required #tercero="ngModel">
            <option selected>seleccione el proveedor</option>
            <option *ngFor="let tercero of terceros" [value]="tercero._id">{{ tercero.nombreTercero }}</option>
          </select>
                    <div class="valid-feedback">
                        Looks good!
                    </div>
                    <!-- <div class="invalid-feedback">
                        debe seleccionar un proveedor.
                    </div> -->
                    <!-- validacion -->
                    <div *ngIf="tercero.touched && tercero.invalid" class="text-danger">
                        El campo proveedor es requerido
                    </div>
                    <p class="card-text bg-light" style="transform: rotate(0);">
                        <a (click)="openModal()" type="button" class="btn btn-info btn-sm mt-2" class="stretched-link">crea un nuevo proveedor</a>
                    </p>
                </div>
                <div class="col-md-12">
                    <label class="form-label" for="categoria">Seleccione categoria de solicitud</label>
                    <select [(ngModel)]="selectedCategoriaId" name="categoria" class="form-select" id="categoria" required #categoria="ngModel">
            <option selected>Categoria de solicitud</option>
            <option *ngFor="let categoria of categorias" [value]="categoria._id">{{ categoria.nombre }}</option>
          </select>
                    <div class="valid-feedback">
                        Looks good!
                    </div>
                    <div class="invalid-feedback">
                        debe seleccionar una categoria.
                    </div>
                    <!-- validacion -->
                    <div *ngIf="categoria.touched && categoria.invalid" class="text-danger">
                        El campo categoria es requerido
                    </div>
                </div>
                <div class="col-md-12">
                    <label class="form-label" for="detalle">Ingresa el detalle de la solicitud</label>
                    <textarea [(ngModel)]="formulario.detalle" name="detalle" class="form-control" id="detalle" rows="2" style="resize: none;" required #detalle="ngModel"></textarea>
                    <div class="valid-feedback">
                        Looks good!
                    </div>
                    <div class="invalid-feedback">
                        Ingresa detalle de la solicitud.
                    </div>
                    <!-- validacion -->
                    <div *ngIf="detalle.touched && detalle.invalid" class="text-danger">
                        El campo detalle de solicitud es requerido
                    </div>
                </div>
                <div class="col-md-12">
                    <label class="form-label" for="factura">Adjunta factura soporte</label>
                    <input (change)="onFileSelected($event)" name="factura" class="form-control" type="file" id="factura" />
                    <p *ngIf="formulario.facturaUrl" class="card-text bg-light" style="transform: rotate(0);">
                        <a (click)="removeFactura()" type="button" class="btn btn-info btn-sm mt-2" class="stretched-link">Eliminar factura adjunta</a>
                    </p>
                </div>
                <div class="col-sm-4 d-flex  end">
                    <button type="submit" class="btn btn-secondary mx-auto end "><a style="text-decoration: none; color: white;" routerLink="/obtenerTodasLasSolicitudes" >Volver</a></button>
                    <button type="submit" class="btn btn-primary mx-auto end ">Guardar</button>
                </div>
            </form>
        </div>
    </div>
</div>